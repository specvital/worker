---
title: ν‘μ¤€ Go ν”„λ΅μ νΈ λ μ΄μ•„μ›ƒ
description: μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©μ„ μ„ν• ν‘μ¤€ Go ν”„λ΅μ νΈ λ μ΄μ•„μ›ƒ μ±„νƒ κ²°μ •
---

# ADR-10: ν‘μ¤€ Go ν”„λ΅μ νΈ λ μ΄μ•„μ›ƒ

> π‡Ίπ‡Έ [English Version](/en/adr/core/10-standard-go-project-layout.md)

| λ‚ μ§       | μ‘μ„±μ       | μν–¥ λ¦¬ν¬μ§€ν† λ¦¬ |
| ---------- | ------------ | --------------- |
| 2025-12-23 | @KubrickCode | core            |

## Context

### λ¬Έμ  μ •μ

λ…λ¦½ Go λΌμ΄λΈλ¬λ¦¬λ΅μ„([ADR-01: μ½”μ–΄ λΌμ΄λΈλ¬λ¦¬ λ¶„λ¦¬](./01-core-library-separation.md) μ°Έμ΅°), μ½”μ–΄λ” μ™Έλ¶€ ν”„λ΅μ νΈμ—μ„ `go get`μΌλ΅ μ‚¬μ© κ°€λ¥ν•΄μ•Ό ν•¨. λΉ„ν‘μ¤€ λ””λ ‰ν† λ¦¬ κµ¬μ΅°λ” μ†λΉ„μμ™€ μƒνƒκ³„ λ„κµ¬μ— λ§μ°°μ„ μΌμΌν‚΄.

### κΈ°μ μ  λ¬Έμ 

`go.mod`κ°€ ν•μ„ λ””λ ‰ν† λ¦¬μ— μ¤‘μ²©λμ–΄ μμΌλ©΄(μ: `src/pkg/go.mod`), μ™Έλ¶€ μ†λΉ„μκ°€ λ¨λ“μ„ μ§μ ‘ importν•  μ μ—†μ. `replace` directiveλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ©°, μ΄λ”:

- ν‘μ¤€ `go get` μ›ν¬ν”λ΅μ°λ¥Ό κΉ¨λ¨λ¦Ό
- μμ΅΄μ„± μ—…λ°μ΄νΈμ— μλ™ μ΅°μ¨ ν•„μ”
- Go λ¨λ“ ν”„λ΅μ‹ λ° μ²΄ν¬μ„¬ λ°μ΄ν„°λ² μ΄μ¤μ™€ νΈν™ λ¶κ°€
- μƒνƒκ³„ λ„κµ¬(goimports, gopls λ“±) νΌλ€

## Decision

**λ£¨νΈ λ λ²¨ `go.mod`μ™€ κ³µκ° ν¨ν‚¤μ§€μ© `pkg/` λ””λ ‰ν† λ¦¬λ΅ ν‘μ¤€ Go ν”„λ΅μ νΈ λ μ΄μ•„μ›ƒμ„ μ±„νƒν•¨.**

```
specvital/core/
β”β”€β”€ go.mod              # λ£¨νΈμ— λ¨λ“ μ •μ
β”β”€β”€ go.sum
β”β”€β”€ pkg/                # κ³µκ° ν¨ν‚¤μ§€
β”‚   β”β”€β”€ domain/         # λ„λ©”μΈ λ¨λΈ
β”‚   β”β”€β”€ parser/         # νμ„ μ—”μ§„
β”‚   β”β”€β”€ source/         # Source μ¶”μƒν™”
β”‚   β””β”€β”€ crypto/         # μ•”νΈν™” μ ν‹Έλ¦¬ν‹°
β””β”€β”€ ...
```

μ†λΉ„μλ” ν¨ν‚¤μ§€λ¥Ό μ§μ ‘ import:

```go
import "github.com/specvital/core/pkg/parser"
```

## Options Considered

### Option A: λ£¨νΈ go.mod + pkg/ λ””λ ‰ν† λ¦¬ (μ„ νƒλ¨)

κ³µκ° ν¨ν‚¤μ§€λ¥Ό `pkg/` ν•μ„μ— λ‘λ” ν‘μ¤€ Go ν”„λ΅μ νΈ λ μ΄μ•„μ›ƒ.

**μ¥μ :**

- `replace` directive μ—†μ΄ μ§μ ‘ import
- Go λ¨λ“ ν”„λ΅μ‹ λ° μ²΄ν¬μ„¬ λ°μ΄ν„°λ² μ΄μ¤ νΈν™
- μƒνƒκ³„ λ„κµ¬μ™€ μ›ν™ν•κ² λ™μ‘
- Go κ°λ°μμ—κ² μµμ™ν• κµ¬μ΅°
- κ³µκ°(`pkg/`)μ™€ λ‚΄λ¶€(`internal/`) ν¨ν‚¤μ§€ λ…ν™•ν• λ¶„λ¦¬

**λ‹¨μ :**

- `pkg/` λ‚΄ λ¨λ“  ν¨ν‚¤μ§€κ°€ κ³µκ° API
- API μ•μ •μ„± μ μ§€μ— κ·μ¨ ν•„μ”
- `internal/` μ‚¬μ©ν•μ§€ μ•μΌλ©΄ λ‚΄λ¶€ ν¨ν‚¤μ§€ μ»΄νμΌ νƒ€μ„ κ°•μ  μ—†μ

### Option B: μ¤‘μ²©λ go.mod (μ: src/pkg/go.mod)

ν•μ„ λ””λ ‰ν† λ¦¬μ— λ¨λ“ μ •μ.

**μ¥μ :**

- λ‹¤λ¥Έ λ””λ ‰ν† λ¦¬ κµ¬μ„± μ„ νΈλ„ ν—μ©
- λ¨λ…Έλ ν¬μ—μ„ λ‹¤λ¥Έ μ–Έμ–΄μ™€ κ³µμ΅΄ κ°€λ¥

**λ‹¨μ :**

- μ™Έλ¶€ μ†λΉ„μμ—κ² `replace` directive ν•„μ”
- ν‘μ¤€ Go λ„κµ¬ μ›ν¬ν”λ΅μ° κΉ¨μ§
- λ¨λ“ ν”„λ΅μ‹ μΊμ‹±κ³Ό νΈν™ λ¶κ°€
- λΉ„ν‘μ¤€μΌλ΅ κΈ°μ—¬μμ—κ² νΌλ€

### Option C: internal/ μ „μ©

λ¨λ“  ν¨ν‚¤μ§€λ¥Ό `internal/` λ””λ ‰ν† λ¦¬ ν•μ„μ— λ°°μΉ.

**μ¥μ :**

- μ»΄νμΌ νƒ€μ„ κ°•μ : μ™Έλ¶€ ν¨ν‚¤μ§€κ°€ import λ¶κ°€
- μ†λΉ„μ μν–¥ μ—†μ΄ μμ λ΅μ΄ λ¦¬ν©ν† λ§

**λ‹¨μ :**

- λΌμ΄λΈλ¬λ¦¬ λ©μ κ³Ό λ¨μ: μ™Έλ¶€ μ‚¬μ©μ„ μ„ν•΄ μ„¤κ³„λ¨
- κ³µκ° API λ…Έμ¶ μ—†μ
- μ¬μ‚¬μ© κ°€λ¥ν• λΌμ΄λΈλ¬λ¦¬μ— λ¶€μ ν•©

## Consequences

### Positive

1. **λ§μ°° μ—†λ” μ†λΉ„**
   - μ™Έλ¶€ ν”„λ΅μ νΈμ—μ„ ν‘μ¤€ `go get github.com/specvital/core` μ‚¬μ©
   - μλ™ `replace` directive λ¶ν•„μ”
   - ν‘μ¤€ λ„κµ¬λ΅ μμ΅΄μ„± μ—…λ°μ΄νΈ μ‘λ™ (Dependabot, Renovate)

2. **μƒνƒκ³„ νΈν™μ„±**
   - Go λ¨λ“ ν”„λ΅μ‹κ°€ λ¨λ“ μΊμ‹
   - μ²΄ν¬μ„¬ λ°μ΄ν„°λ² μ΄μ¤κ°€ λ¬΄κ²°μ„± κ²€μ¦ μ κ³µ
   - goimports, gopls μ •μƒ λ™μ‘

3. **κ°λ°μ κ²½ν—**
   - Go κ°λ°μμ—κ² μµμ™ν• ν‘μ¤€ λ μ΄μ•„μ›ƒ
   - κΈ°μ—¬μ μ¨λ³΄λ”© μ‹κ°„ λ‹¨μ¶•
   - `pkg/`μ— λ…ν™•ν• κ³µκ° API ν‘λ©΄

### Negative

1. **API μ•μ •μ„± μ±…μ„**
   - `pkg/` ν•μ„ λ¨λ“  ν¨ν‚¤μ§€κ°€ κ³µκ° APIμ„
   - νΈν™μ„± κΉ¨λ” λ³€κ²½μ— λ©”μ΄μ € λ²„μ „ λ²”ν”„ ν•„μ”
   - **μ™„ν™”**: λ…Έμ¶ν•μ§€ μ•μ„ κµ¬ν„ μ„Έλ¶€μ‚¬ν•­μ€ `internal/` μ‚¬μ©

2. **λ¦¬ν©ν† λ§ μ μ•½**
   - `pkg/` λ‚΄ ν¨ν‚¤μ§€λ¥Ό μμ λ΅­κ² μ΄λ¦„ λ³€κ²½/μ΄λ™ λ¶κ°€
   - **μ™„ν™”**: λ³΄μμ μΈ API μ„¤κ³„, μμ •λ³΄λ‹¤ ν™•μ¥ ν¬μΈνΈ ν™μ©

### ν¨ν‚¤μ§€ κ°€μ‹μ„±

| λ””λ ‰ν† λ¦¬    | κ°€μ‹μ„± | μ©λ„                        |
| ----------- | ------ | --------------------------- |
| `pkg/`      | κ³µκ°   | μ™Έλ¶€ ν”„λ΅μ νΈμ© λ‚΄λ³΄λ‚Έ API  |
| `internal/` | λΉ„κ³µκ° | κµ¬ν„ μ„Έλ¶€μ‚¬ν•­ (ν•„μ”μ‹ μ‚¬μ©) |

## References

- [ADR-01: μ½”μ–΄ λΌμ΄λΈλ¬λ¦¬ λ¶„λ¦¬](./01-core-library-separation.md)
- [Standard Go Project Layout](https://github.com/golang-standards/project-layout)
