---
title: ë™ì  í…ŒìŠ¤íŠ¸ ì¹´ìš´íŒ… ì •ì±…
description: ì •ì  AST ë¶„ì„ì—ì„œ ë™ì  ìƒì„± í…ŒìŠ¤íŠ¸ íŒ¨í„´ ì²˜ë¦¬ ì •ì±…
---

# ADR-02: ë™ì  í…ŒìŠ¤íŠ¸ ì¹´ìš´íŒ… ì •ì±…

> ğŸ‡ºğŸ‡¸ [English Version](/en/adr/core/02-dynamic-test-counting-policy.md)

| ë‚ ì§œ       | ì‘ì„±ì       | ì˜í–¥ ë¦¬í¬ì§€í† ë¦¬ |
| ---------- | ------------ | --------------- |
| 2025-12-22 | @KubrickCode | core            |

**ìƒíƒœ**: ìŠ¹ì¸ë¨
**êµ¬í˜„**: âœ… Phase 1 ì™„ë£Œ (2025-12-22)

## Context

SpecVital Core íŒŒì„œëŠ” ì •ì  AST ë¶„ì„ ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì¹´ìš´íŠ¸ ìˆ˜í–‰. ë§ì€ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ê°€ ëŸ°íƒ€ì„ ì‹¤í–‰ ì—†ì´ëŠ” ì •í™•í•œ ì¹´ìš´íŠ¸ ë¶ˆê°€ëŠ¥í•œ ë™ì  í…ŒìŠ¤íŠ¸ ìƒì„± íŒ¨í„´ ì§€ì›.

### ë°œê²¬ ê²½ìœ„

`github-project-status-viewer` ëŒ€ìƒ ê²€ì¦ ê²°ê³¼:

- ì‹¤ì œê°’ (CLI): 236 í…ŒìŠ¤íŠ¸
- íŒŒì„œ ê²°ê³¼: 229 í…ŒìŠ¤íŠ¸
- ì°¨ì´: -7 (2.97%)

ê·¼ë³¸ ì›ì¸: ë™ì  í…ŒìŠ¤íŠ¸ íŒ¨í„´ ë¯¸ì§€ì›.

## Decision

### ì •ì±…: ë™ì  í…ŒìŠ¤íŠ¸ë¥¼ 1ë¡œ ì¹´ìš´íŠ¸

ëª¨ë“  ë™ì  ìƒì„± í…ŒìŠ¤íŠ¸ íŒ¨í„´ì€ ì‹¤ì œ ëŸ°íƒ€ì„ ì¹´ìš´íŠ¸ì™€ ê´€ê³„ì—†ì´ **1ê°œ í…ŒìŠ¤íŠ¸**ë¡œ ì¹´ìš´íŠ¸.

### ê·¼ê±°

1. **ì •ì  ë¶„ì„ì˜ í•œê³„**: ëŸ°íƒ€ì„ ê°’ í‰ê°€ ë¶ˆê°€
2. **ì¼ê´€ì„±**: 20ê°œ í”„ë ˆì„ì›Œí¬ ì „ì²´ì—ì„œ ë™ì¼í•œ ë™ì‘
3. **ë³µì¡ë„ vs ê°€ì¹˜**: ë°°ì—´ ë¦¬í„°ëŸ´ íŒŒì‹±ì€ í•œê³„ ì´ìµë§Œ ì œê³µ
4. **íƒì§€ ìš°ì„ ìˆœìœ„**: í…ŒìŠ¤íŠ¸ ì¡´ì¬ íƒì§€ > ì •í™•í•œ ì¹´ìš´íŠ¸

## Options Considered

### Option A: ë™ì  í…ŒìŠ¤íŠ¸ë¥¼ 1ë¡œ ì¹´ìš´íŠ¸ (ì„ íƒë¨)

ëª¨ë“  ë™ì  íŒ¨í„´ì„ ë‹¨ì¼ í…ŒìŠ¤íŠ¸ë¡œ ê· ì¼í•˜ê²Œ ì²˜ë¦¬.

**ì¥ì :**

- í”„ë ˆì„ì›Œí¬ ê°„ ì¼ê´€ëœ ë™ì‘
- ë‹¨ìˆœí•œ êµ¬í˜„
- ì •í™•ë„ì— ëŒ€í•œ ê±°ì§“ ì•½ì† ì—†ìŒ
- í•œê³„ì— ëŒ€í•œ ëª…í™•í•œ ë¬¸ì„œí™”

**ë‹¨ì :**

- íŒŒì„œ ì¹´ìš´íŠ¸ì™€ CLI ì¹´ìš´íŠ¸ ì°¨ì´ ê°€ëŠ¥
- ì •í™•í•œ ì¹´ìš´íŠ¸ë¥¼ ìœ„í•œ CLI í•„ìš”

### Option B: ë°°ì—´ ë¦¬í„°ëŸ´ íŒŒì‹±

`it.each([1,2,3])` ê°™ì€ ì •ì  íŒ¨í„´ì—ì„œ ë°°ì—´ ìš”ì†Œ ì¹´ìš´íŠ¸ ì‹œë„.

**ì¥ì :**

- ë‹¨ìˆœí•œ ì¼€ì´ìŠ¤ì—ì„œ ë” ì •í™•

**ë‹¨ì :**

- ë¹„ì¼ê´€ì  (ë¦¬í„°ëŸ´ì€ ë¨, ë³€ìˆ˜ëŠ” ì•ˆë¨)
- ë³µì¡í•œ êµ¬í˜„
- ë¯¸ë¯¸í•œ ì •í™•ë„ í–¥ìƒ

### Option C: ëŸ°íƒ€ì„ ì‹¤í–‰ í•„ìš”

í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ì •í™•í•œ ì¹´ìš´íŠ¸ íšë“.

**ì¥ì :**

- 100% ì •í™•ë„

**ë‹¨ì :**

- ì½”ì–´ì˜ ì •ì  ë¶„ì„ ì ‘ê·¼ ë°©ì‹ì˜ ê·¼ë³¸ì  ë³€ê²½
- í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • í•„ìš”
- ëŠë¦° ì‹¤í–‰
- ë³´ì•ˆ ìš°ë ¤

## í”„ë ˆì„ì›Œí¬ ë¶„ì„

### í”„ë ˆì„ì›Œí¬ë³„ ë™ì  í…ŒìŠ¤íŠ¸ íŒ¨í„´

| í”„ë ˆì„ì›Œí¬                | ë™ì  íŒ¨í„´                   | í˜„ì¬ ì§€ì› | ì •ì±…                  |
| ------------------------- | --------------------------- | --------- | --------------------- |
| **JavaScript/TypeScript** |                             |           |                       |
| Jest                      | `it.each([...])`            | ë¶€ë¶„      | 1 + `(dynamic cases)` |
| Jest                      | `forEach` + `it`            | âœ…        | 1 + `(dynamic cases)` |
| Vitest                    | `it.each([...])`            | ë¶€ë¶„      | 1 + `(dynamic cases)` |
| Vitest                    | `forEach` + `it`            | âœ…        | 1 + `(dynamic cases)` |
| Mocha                     | `forEach` + `it`            | âœ…        | 1 + `(dynamic cases)` |
| Cypress                   | `forEach` + `it`            | âœ…        | 1 + `(dynamic cases)` |
| Playwright                | loop + `test`               | âŒ        | 1                     |
| **Python**                |                             |           |                       |
| pytest                    | `@pytest.mark.parametrize`  | âŒ        | 1                     |
| unittest                  | `subTest`                   | âŒ        | 1                     |
| **Java**                  |                             |           |                       |
| JUnit5                    | `@ParameterizedTest`        | âŒ        | 1                     |
| JUnit5                    | `@RepeatedTest`             | âŒ        | 1                     |
| TestNG                    | `@DataProvider`             | âŒ        | 1                     |
| **Kotlin**                |                             |           |                       |
| Kotest                    | `forAll`, data-driven       | âŒ        | 1                     |
| **C#**                    |                             |           |                       |
| NUnit                     | `[TestCase]` ë³µìˆ˜           | âœ…        | N (attribute ì¹´ìš´íŠ¸)  |
| NUnit                     | `[TestCaseSource]`          | âŒ        | 1                     |
| xUnit                     | `[Theory]` + `[InlineData]` | âœ…        | N (attribute ì¹´ìš´íŠ¸)  |
| xUnit                     | `[MemberData]`              | âŒ        | 1                     |
| MSTest                    | `[DataRow]` ë³µìˆ˜            | âœ…        | N (attribute ì¹´ìš´íŠ¸)  |
| MSTest                    | `[DynamicData]`             | âŒ        | 1                     |
| **Ruby**                  |                             |           |                       |
| RSpec                     | `shared_examples`           | âŒ        | 1                     |
| Minitest                  | loop + `def test_`          | âŒ        | 1                     |
| **Go**                    |                             |           |                       |
| go-testing                | `t.Run` in loop             | âœ…        | N (ê°ì§€ëœ subtest)    |
| go-testing                | table-driven (ë³€ìˆ˜)         | ë¶€ë¶„      | ê°ì§€ëœ rowë§Œ          |
| **Rust**                  |                             |           |                       |
| cargo-test                | `#[test_case]`              | âŒ        | 1                     |
| **C++**                   |                             |           |                       |
| GoogleTest                | `INSTANTIATE_TEST_SUITE_P`  | âŒ        | 1                     |
| **Swift**                 |                             |           |                       |
| XCTest                    | ë„¤ì´í‹°ë¸Œ parametrized ì—†ìŒ  | N/A       | -                     |
| **PHP**                   |                             |           |                       |
| PHPUnit                   | `@dataProvider`             | âŒ        | 1                     |

### ë²”ë¡€

- âœ… ì§€ì›: ì‹¤ì œ ì¼€ì´ìŠ¤ ì¹´ìš´íŠ¸
- ë¶€ë¶„: íŒ¨í„´ ê°ì§€í•˜ì§€ë§Œ ëª¨ë“  ì¼€ì´ìŠ¤ ì¹´ìš´íŠ¸ ëª»í•¨
- âŒ ë¯¸ì§€ì›: 1ë¡œ ì¹´ìš´íŠ¸
- âŒ ë²„ê·¸: ê°ì§€í•´ì•¼ í•˜ì§€ë§Œ í˜„ì¬ ì•ˆë¨

### Linter í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°

ë¦°í„° í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°(ESLint RuleTester, Stylelint ë“±)ëŠ” í‘œì¤€ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ API(it, test)ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ë‚´ë¶€ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ìƒì„±í•¨. ë™ì  í…ŒìŠ¤íŠ¸ë¡œ ì²˜ë¦¬.

| ìœ í‹¸ë¦¬í‹°          | íŒ¨í„´                                                    | ì •ì±…                |
| ----------------- | ------------------------------------------------------- | ------------------- |
| ESLint RuleTester | `ruleTester.run('rule', rule, { valid, invalid })`      | `.run()` í˜¸ì¶œë‹¹ 1ê°œ |
| Stylelint         | `stylelintTester.run('rule', rule, { accept, reject })` | `.run()` í˜¸ì¶œë‹¹ 1ê°œ |

**ê°ì§€ ê¸°ì¤€**:

- í˜¸ì¶œì ë³€ìˆ˜ëª…ì— "tester" í¬í•¨ (ëŒ€ì†Œë¬¸ì ë¬´ê´€)
- ë©”ì„œë“œëª…ì´ `run`
- ì²« ë²ˆì§¸ ì¸ìê°€ ë¬¸ìì—´ ë¦¬í„°ëŸ´ (ê·œì¹™ ì´ë¦„)
- ìµœì†Œ 3ê°œ ì¸ì

## Consequences

### Positive

- í”„ë ˆì„ì›Œí¬ ê°„ ì¼ê´€ëœ ë™ì‘
- ë‹¨ìˆœí•œ êµ¬í˜„
- ì •í™•ë„ì— ëŒ€í•œ ê±°ì§“ ì•½ì† ì—†ìŒ
- í•œê³„ì— ëŒ€í•œ ëª…í™•í•œ ë¬¸ì„œí™”

### Negative

- íŒŒì„œ ì¹´ìš´íŠ¸ì™€ CLI ì¹´ìš´íŠ¸ ì°¨ì´ ê°€ëŠ¥
- ì •í™•í•œ ì¹´ìš´íŠ¸ë¥¼ ìœ„í•œ CLI í•„ìš”

### Neutral

- ì‹¤ì œê°’ ê²€ì¦ ì‹œ ë™ì  í…ŒìŠ¤íŠ¸ ê³ ë ¤ í•„ìš”

## Implementation

### Phase 1: ë²„ê·¸ ìˆ˜ì • (ì™„ë£Œ âœ…)

~~í…ŒìŠ¤íŠ¸ ê°ì§€ í•„ìš”í•˜ë‚˜ í˜„ì¬ 0 ë°˜í™˜í•˜ëŠ” íŒ¨í„´ ìˆ˜ì •:~~

1. ~~**JS/TS**: `forEach`/`map` ì½œë°± ë‚´ `it`/`test`~~ â†’ **ìˆ˜ì • ì™„ë£Œ (2025-12-22)**
2. ~~**JS/TS**: ê°ì²´ ë°°ì—´ì´ ìˆëŠ” `it.each([{...}])` (í˜„ì¬ 0, 1ì´ì–´ì•¼ í•¨)~~ â†’ **ìˆ˜ì • ì™„ë£Œ (2025-12-22)**

### Phase 2: ê°œì„  (ì„ íƒ)

ì¹´ìš´íŠ¸ê°€ ì •ì ìœ¼ë¡œ ê²°ì • ê°€ëŠ¥í•œ attribute ê¸°ë°˜ parametrized í…ŒìŠ¤íŠ¸ ì¹´ìš´íŠ¸ ê³ ë ¤:

- C#ì˜ `[TestCase(...)]` Ã— N
- ë¦¬í„°ëŸ´ ë°°ì—´ì´ ìˆëŠ” `@pytest.mark.parametrize("x", [1,2,3])`

### Phase 3: Linter í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹° (ì™„ë£Œ âœ…)

í‘œì¤€ í…ŒìŠ¤íŠ¸ APIë¥¼ ìš°íšŒí•˜ëŠ” ë¦°í„° í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹° ì§€ì›:

1. ~~**JS/TS**: `ruleTester.run()` ESLint íŒ¨í„´~~ â†’ **ìˆ˜ì • ì™„ë£Œ (2025-12-29)**
2. ~~**JS/TS**: `stylelintTester.run()` Stylelint íŒ¨í„´~~ â†’ **ìˆ˜ì • ì™„ë£Œ (2025-12-29)**
